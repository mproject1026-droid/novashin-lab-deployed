import { useState } from 'react'
import { equipmentDb } from './equipmentDb'

function App() {
  const [selectedAmp, setSelectedAmp] = useState('')
  const [selectedSpeaker, setSelectedSpeaker] = useState('')

  // 找尋器材詳細資料
  const getInfo = (id: string) => equipmentDb.find(e => e.id === id)

  // 取得所有擴大機與喇叭選單
  const amps = equipmentDb.filter(e => e.type === 'amp' || e.type.includes('amp'))
  const speakers = equipmentDb.filter(e => e.type === 'speaker')

  return (
    <div className="min-h-screen p-4 md:p-12">
      {/* 頂部標題 */}
      <header className="text-center mb-16">
        <h1 className="text-5xl md:text-7xl font-bold text-gold-gradient mb-4">
          NOVASHIN 音響實驗室
        </h1>
        <p className="text-walnut opacity-60 tracking-[0.3em] text-lg">
          終極進化：系統深度分析報告
        </p>
      </header>

      <main className="max-w-4xl mx-auto space-y-12">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
          
          {/* 擴大機區塊 */}
          <div className="bg-white p-6 rounded-2xl shadow-xl border border-champagne/30">
            <h2 className="text-gold font-bold mb-4 flex items-center">
              <span className="mr-2">●</span> LEVEL 1 - 擴大機
            </h2>
            <select 
              className="w-full p-4 bg-pearl/50 border border-champagne rounded-xl text-walnut outline-none focus:ring-2 focus:ring-gold"
              onChange={(e) => setSelectedAmp(e.target.value)}
            >
              <option value="">請選擇您的核心引擎...</option>
              {amps.map(a => <option key={a.id} value={a.id}>{a.brand} {a.model}</option>)}
            </select>
            {selectedAmp && (
              <div className="mt-6 p-4 bg-pearl/30 rounded-lg border-l-4 border-gold italic text-sm">
                「{getInfo(selectedAmp)?.sonicSignature}」
              </div>
            )}
          </div>

          {/* 喇叭區塊 */}
          <div className="bg-white p-6 rounded-2xl shadow-xl border border-champagne/30">
            <h2 className="text-gold font-bold mb-4 flex items-center">
              <span className="mr-2">●</span> LEVEL 1 - 喇叭
            </h2>
            <select 
              className="w-full p-4 bg-pearl/50 border border-champagne rounded-xl text-walnut outline-none focus:ring-2 focus:ring-gold"
              onChange={(e) => setSelectedSpeaker(e.target.value)}
            >
              <option value="">請選擇您的靈魂揚聲器...</option>
              {speakers.map(s => <option key={s.id} value={s.id}>{s.brand} {s.model}</option>)}
            </select>
            {selectedSpeaker && (
              <div className="mt-6 p-4 bg-pearl/30 rounded-lg border-l-4 border-gold italic text-sm">
                「{getInfo(selectedSpeaker)?.sonicSignature}」
              </div>
            )}
          </div>

        </div>

        {/* 按鈕 */}
        <div className="text-center pt-10">
          <button 
            className="px-16 py-5 bg-walnut text-champagne rounded-full font-bold text-xl 
                       hover:scale-105 active:scale-95 transition-all shadow-2xl gold-glow"
            onClick={() => alert('AI 報告功能即將啟動！')}
          >
            ⚡ 生成終極進化報告
          </button>
        </div>
      </main>
    </div>
  )
}

export default App